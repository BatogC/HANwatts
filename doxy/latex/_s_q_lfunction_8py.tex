\hypertarget{_s_q_lfunction_8py}{}\section{user\+I\+D/\+S\+Q\+Lfunction.py File Reference}
\label{_s_q_lfunction_8py}\index{user\+I\+D/\+S\+Q\+Lfunction.\+py@{user\+I\+D/\+S\+Q\+Lfunction.\+py}}
\subsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
 \hyperlink{namespace_s_q_lfunction}{S\+Q\+Lfunction}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{namespace_s_q_lfunction_aa9ad8419206f0d4e4281775b4dcbf03d}{S\+Q\+Lfunction.\+on\+\_\+connect} (client, userdata, flags, rc)
\begin{DoxyCompactList}\small\item\em Executes on M\+Q\+TT client connect to broker, sets flags and subscribes. \end{DoxyCompactList}\item 
def \hyperlink{namespace_s_q_lfunction_a3a3d48b63f188d8357c3422e417a58dc}{S\+Q\+Lfunction.\+on\+\_\+disconnect} (client, userdata, rc)
\begin{DoxyCompactList}\small\item\em Executes on M\+Q\+TT client disconnect and sets flags. \end{DoxyCompactList}\item 
def \hyperlink{namespace_s_q_lfunction_ae16644514ae2cdbf375884361531f691}{S\+Q\+Lfunction.\+update\+\_\+callback} (client, userdata, message)
\begin{DoxyCompactList}\small\item\em Callback function that parses R\+F\+ID swipe message from Photon and checks in the DB what to publish as answer Publish output is structured as \char`\"{}1;2\char`\"{} where 1=socket number and 2=answer to Photon. \end{DoxyCompactList}\item 
def \hyperlink{namespace_s_q_lfunction_a356dd5906768f7dd778408f466e9f9b4}{S\+Q\+Lfunction.\+new\+\_\+photon\+Measure\+\_\+callback} (client, userdata, message)
\begin{DoxyCompactList}\small\item\em New Callback for Photon measurements that parses, checks DB for user data like name and carname, then logs into \textquotesingle{}measurements\textquotesingle{}. \end{DoxyCompactList}\item 
def \hyperlink{namespace_s_q_lfunction_ab58c55eebaf8990eb9c810968db1dc50}{S\+Q\+Lfunction.\+old\+\_\+photon\+Measure\+\_\+callback} (client, userdata, message)
\begin{DoxyCompactList}\small\item\em Old Photon measurements callback that parses \textquotesingle{}\textquotesingle{} separated values. \end{DoxyCompactList}\item 
def \hyperlink{namespace_s_q_lfunction_a75af8b1bb1aa60f32418ac7901b0060b}{S\+Q\+Lfunction.\+send\+\_\+admin} ()
\begin{DoxyCompactList}\small\item\em Function to send admin email if one user has been plugged in at a socket for over 4 hours still in beta mode and needs improvements. \end{DoxyCompactList}\item 
def \hyperlink{namespace_s_q_lfunction_a526fa5bc764d15233b0cc1880fc33f83}{S\+Q\+Lfunction.\+send\+\_\+email} ()
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{namespace_s_q_lfunction_a68f53c3db854695a6e4a30a3a55594b4}{S\+Q\+Lfunction.\+D\+I\+S\+C\+O\+N\+N\+E\+C\+T\+\_\+\+T\+I\+ME} = int(4 $\ast$ 60 $\ast$ 60)
\begin{DoxyCompactList}\small\item\em Const. \end{DoxyCompactList}\item 
int \hyperlink{namespace_s_q_lfunction_aef9c9d6f38d6ad20fa3572f211e29b04}{S\+Q\+Lfunction.\+email\+\_\+cntr} = 0
\item 
int \hyperlink{namespace_s_q_lfunction_a700c01c62cb7f1ed2561f5e640da46cf}{S\+Q\+Lfunction.\+S\+S\+Lport} = 465
\item 
string \hyperlink{namespace_s_q_lfunction_afc238002d1e4aeb7f8d2e10d47dfad36}{S\+Q\+Lfunction.\+smtp\+\_\+server} = \char`\"{}smtp.\+gmail.\+com\char`\"{}
\item 
string \hyperlink{namespace_s_q_lfunction_ac63d06248a3e41c104ae1290bb403c78}{S\+Q\+Lfunction.\+sender\+\_\+email} = \char`\"{}tpi97364@gmail.\+com\char`\"{}
\begin{DoxyCompactList}\small\item\em Email sender address for Pi. \end{DoxyCompactList}\item 
string \hyperlink{namespace_s_q_lfunction_a51ebdaf9d64f52b2c266a49020cf12a5}{S\+Q\+Lfunction.\+receiver\+\_\+email} = \char`\"{}\char`\"{}
\begin{DoxyCompactList}\small\item\em Holder for email addresses of receivers. \end{DoxyCompactList}\item 
string \hyperlink{namespace_s_q_lfunction_a0d308a95029254ed328ba365861abdf2}{S\+Q\+Lfunction.\+sender\+\_\+password} = \char`\"{}controlsystem\char`\"{}
\begin{DoxyCompactList}\small\item\em Pi email password. \end{DoxyCompactList}\item 
string \hyperlink{namespace_s_q_lfunction_ae767f70baa76040d2b29bd6eeefd7bbe}{S\+Q\+Lfunction.\+email\+\_\+message}
\begin{DoxyCompactList}\small\item\em Default email message. \end{DoxyCompactList}\item 
\hyperlink{namespace_s_q_lfunction_a7ec226cfeab195de604b38e8c7b2d0eb}{S\+Q\+Lfunction.\+email\+\_\+context} = ssl.\+create\+\_\+default\+\_\+context()
\item 
\hyperlink{namespace_s_q_lfunction_a02e42e3457dfb29a0ee1b6252484b0e7}{S\+Q\+Lfunction.\+con} = None
\begin{DoxyCompactList}\small\item\em Initial DB connection check. \end{DoxyCompactList}\item 
string \hyperlink{namespace_s_q_lfunction_aed5ec64d305ca004c4fe54d51dd36a4e}{S\+Q\+Lfunction.\+broker} = \char`\"{}broker.\+hivemq.\+com\char`\"{}
\begin{DoxyCompactList}\small\item\em M\+Q\+TT broker address. \end{DoxyCompactList}\item 
string \hyperlink{namespace_s_q_lfunction_a50744e6ca7c6cbd547746acb907f016e}{S\+Q\+Lfunction.\+path\+\_\+local} = \char`\"{}/media/D\+A\+T\+A\+B\+A\+SE/usertable.\+sqlite3\char`\"{}
\begin{DoxyCompactList}\small\item\em Path to users database path = \char`\"{}./user\+List\char`\"{} \#\+Use internal memory -\/ old DB. \end{DoxyCompactList}\item 
string \hyperlink{namespace_s_q_lfunction_a9239421845b9e0921bad7a2a191f3849}{S\+Q\+Lfunction.\+path} = \char`\"{}/mnt/dav/Data/usertable.\+sqlite3\char`\"{}
\item 
\hyperlink{namespace_s_q_lfunction_af6ef43cf2e7be28e6205af9b355e4943}{S\+Q\+Lfunction.\+con\+\_\+local} = lite.\+connect(path\+\_\+local)
\item 
\hyperlink{namespace_s_q_lfunction_a808a7ba686f9086b3d4ef7d6a969aceb}{S\+Q\+Lfunction.\+cur\+\_\+local} = con\+\_\+local.\+cursor()
\item 
\hyperlink{namespace_s_q_lfunction_aefa03c2c2ce5f2ab923453e1af7a2201}{S\+Q\+Lfunction.\+cur} = con.\+cursor()
\item 
\hyperlink{namespace_s_q_lfunction_aab5e54d1ed091926790df37c8098f1f7}{S\+Q\+Lfunction.\+data\+Ref1} = cur.\+fetchone()
\item 
int \hyperlink{namespace_s_q_lfunction_a5964aea00837148a0d731102edf6ac5c}{S\+Q\+Lfunction.\+err\+\_\+cnt} = 0
\item 
\hyperlink{namespace_s_q_lfunction_ac9fb782d6f6dcc44fd19ea1b135ab996}{S\+Q\+Lfunction.\+client} = mqtt.\+Client()
\item 
\hyperlink{namespace_s_q_lfunction_a513a0e7846b861b6982a0449f46cb6a8}{S\+Q\+Lfunction.\+connected\+\_\+flag}
\item 
\hyperlink{namespace_s_q_lfunction_abffdbb58f2363e73ea86ddc83a3893ad}{S\+Q\+Lfunction.\+bad\+\_\+connection\+\_\+flag}
\item 
\hyperlink{namespace_s_q_lfunction_a215e7090f82fbf0d31fd97be6721389a}{S\+Q\+Lfunction.\+on\+\_\+connect}
\item 
\hyperlink{namespace_s_q_lfunction_ab3031ccbbdb3f5a04bd7d66ceb4494c7}{S\+Q\+Lfunction.\+on\+\_\+disconnect}
\item 
\hyperlink{namespace_s_q_lfunction_affebcb967a2b844a9e7542f181deacb6}{S\+Q\+Lfunction.\+current\+\_\+time} = time.\+ctime(time.\+time())
\end{DoxyCompactItemize}
