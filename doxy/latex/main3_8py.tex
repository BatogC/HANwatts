\hypertarget{main3_8py}{}\section{Modbus/main3.py File Reference}
\label{main3_8py}\index{Modbus/main3.\+py@{Modbus/main3.\+py}}
\subsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
 \hyperlink{namespacemain3}{main3}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{namespacemain3_a5c75165294c699dccf20a3a5105d1c83}{main3.\+on\+\_\+connect} (client, userdata, flags, rc)
\begin{DoxyCompactList}\small\item\em Executes on M\+Q\+TT client connect to broker and sets flags. \end{DoxyCompactList}\item 
def \hyperlink{namespacemain3_a18d6f3292241050eec8b3891f834ad5d}{main3.\+on\+\_\+disconnect} (client, userdata, rc)
\begin{DoxyCompactList}\small\item\em Executes on M\+Q\+TT client disconnect and sets flags. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
string \hyperlink{namespacemain3_afdf3bec321b3b9107003c09223640e80}{main3.\+broker} = \char`\"{}broker.\+hivemq.\+com\char`\"{}
\begin{DoxyCompactList}\small\item\em M\+Q\+TT broker. \end{DoxyCompactList}\item 
string \hyperlink{namespacemain3_a8e2441fb4fc06f2788b1864358403339}{main3.\+path\+\_\+local} = \char`\"{}/media/D\+A\+T\+A\+B\+A\+SE/modbus\+Data.\+db\char`\"{}
\begin{DoxyCompactList}\small\item\em Path for modbus database. \end{DoxyCompactList}\item 
string \hyperlink{namespacemain3_a94593883ff80bece1776244df08104a1}{main3.\+path} = \char`\"{}/mnt/dav/Data/modbus\+Data.\+db\char`\"{}
\item 
string \hyperlink{namespacemain3_ab90723267d7b609bc02469c11db32a64}{main3.\+path\+\_\+local\+\_\+user} = \char`\"{}/media/D\+A\+T\+A\+B\+A\+SE/usertable.\+sqlite3\char`\"{}
\begin{DoxyCompactList}\small\item\em Path for users database. \end{DoxyCompactList}\item 
string \hyperlink{namespacemain3_a7e2fe5acbb746b4190127a6d04b418ed}{main3.\+path\+\_\+user} = \char`\"{}/mnt/dav/Data/usertable.\+sqlite3\char`\"{}
\item 
\hyperlink{namespacemain3_a693b4f7c34d4957bdd692bbb2ec9775f}{main3.\+con\+\_\+user\+\_\+local} = lite.\+connect(path\+\_\+local\+\_\+user)
\item 
\hyperlink{namespacemain3_a2fa22d0a5dd912937396dd96363ff968}{main3.\+cur\+\_\+user\+\_\+local} = con\+\_\+user\+\_\+local.\+cursor()
\item 
\hyperlink{namespacemain3_a53e03f12882bc3b99c9324b7814074ec}{main3.\+con\+\_\+user} = lite.\+connect(path\+\_\+user)
\begin{DoxyCompactList}\small\item\em Initial DB connection check. \end{DoxyCompactList}\item 
\hyperlink{namespacemain3_aac45a371e86ea7af1ea340ec4e0f95a9}{main3.\+cur\+\_\+user} = con\+\_\+user.\+cursor()
\item 
\hyperlink{namespacemain3_ac151e893e4ce2a34734073cf06c5f84a}{main3.\+con\+\_\+local} = lite.\+connect(path\+\_\+local)
\item 
\hyperlink{namespacemain3_a25fd8974a655b4dc7bed362d3406bec3}{main3.\+cur\+\_\+local} = con\+\_\+local.\+cursor()
\item 
\hyperlink{namespacemain3_a4a9ab88fdf3f5bfc0803104c30ddfc98}{main3.\+con} = lite.\+connect(path)
\item 
\hyperlink{namespacemain3_a4a9cd088c1387b19bfaa89ed31b577c2}{main3.\+cur} = con.\+cursor()
\item 
\hyperlink{namespacemain3_a49b33cac6f362fbef2ac40a65b883fde}{main3.\+data\+Ref1} = cur.\+fetchone()
\item 
int \hyperlink{namespacemain3_a7c241739211f5cb7ee0dcde96902c843}{main3.\+err\+\_\+cnt} = 0
\item 
\hyperlink{namespacemain3_ac22ae978a8b5a446c25462949448abe9}{main3.\+client} = mqtt.\+Client()
\item 
\hyperlink{namespacemain3_ad437a0de30e4b6dfc9d354c3d56e43ac}{main3.\+connected\+\_\+flag}
\item 
\hyperlink{namespacemain3_ab4939f18edc72dec9e72dfa3ec2f026b}{main3.\+bad\+\_\+connection\+\_\+flag}
\item 
\hyperlink{namespacemain3_a750e986d76cf0b4ce563501efc1d8f74}{main3.\+on\+\_\+connect}
\item 
\hyperlink{namespacemain3_afecee61e71845eda2bab29e6c6d4f91c}{main3.\+on\+\_\+disconnect}
\item 
int \hyperlink{namespacemain3_a71b20202aeb60b168b1dcee86f9d0d2a}{main3.\+control\+\_\+pin} = 18
\item 
\hyperlink{namespacemain3_a6a802b14dd2a75c3e2b040097e50711a}{main3.\+meter1} = M\+I\+C.\+M\+I\+C1(0x01, control\+\_\+pin)
\begin{DoxyCompactList}\small\item\em Initializes meter. \end{DoxyCompactList}\item 
\hyperlink{namespacemain3_aa252e5a293824baa2daad9b2dbef9b11}{main3.\+meter2} = M\+I\+C.\+M\+I\+C1(0x02, control\+\_\+pin)
\item 
\hyperlink{namespacemain3_a70657f222edd8805f6f49ad404bd875a}{main3.\+meter3} = M\+I\+C.\+M\+I\+C1(0x03, control\+\_\+pin)
\item 
\hyperlink{namespacemain3_a80e6d1df977908ba5ce55b4beb384ce6}{main3.\+meter4} = M\+I\+C.\+M\+I\+C1(0x04, control\+\_\+pin)
\item 
\hyperlink{namespacemain3_aeda58cee300f9fae14d6fc3ca9891847}{main3.\+meter5} = M\+I\+C.\+M\+I\+C1(0x05, control\+\_\+pin)
\item 
int \hyperlink{namespacemain3_aefc1f762f0a9b87f47694cb1310cd460}{main3.\+time\+\_\+send} = 1
\item 
\hyperlink{namespacemain3_aa03fad60889e4cdf61e6898d8ef9617e}{main3.\+current\+\_\+time} = time.\+ctime(time.\+time())
\item 
\hyperlink{namespacemain3_a66971b3af77d619b5249162539add371}{main3.\+reading\+P\+T1} = meter1.\+read\+P\+T1()
\item 
\hyperlink{namespacemain3_a77f2179ee84347784f243bf150c0e373}{main3.\+reading\+P\+T2} = meter1.\+read\+P\+T2()
\item 
\hyperlink{namespacemain3_ad4596b47de04ad652b165f8a319cc003}{main3.\+reading\+C\+T1} = meter1.\+read\+C\+T1()
\item 
\hyperlink{namespacemain3_a34f71711d9f071c11a4574c8d3cef88d}{main3.\+reading} = meter1.\+read\+Phase\+Voltage()
\item 
string \hyperlink{namespacemain3_a43f4efe6baf7e0cc4db121fab5cb163b}{main3.\+Message}
\item 
\hyperlink{namespacemain3_af3b593054c807ee934bbbca0f4964a15}{main3.\+data} = cur.\+fetchone()
\item 
tuple \hyperlink{namespacemain3_a248f67a00d1a70af3906de327bd341e2}{main3.\+set\+Point} = (data\mbox{[}0\mbox{]}+data\mbox{[}1\mbox{]}+data\mbox{[}2\mbox{]})
\item 
dictionary \hyperlink{namespacemain3_a5c3879d90e71304ff78e672fe925e10a}{main3.\+data\+Send}
\end{DoxyCompactItemize}
